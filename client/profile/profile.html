<template name="profile">
  <div id="profile" class="container-fluid">
    {{getUser username}}
    <div class="row">
      <div id="left" class="col-md-4">
        {{#with photoUrl profile}}
          <img src={{this.url}} alt=""/>
        {{/with}}

        {{#if currentUser}}
          {{#if allowed username}}
            {{#if isEditing}}

        <button class="btn btn-warning cancelar">Cancelar</button>
            <form class="imgForm">
              <input type="file" accept="image/*" class="myFileInput">
              <button type="submit" class="btn btn-success">Terminar</button>
            </form>
            {{else}}
        <button class="btn btn-success add-pic">Cambiar foto</button>
            {{/if}}
            <div id="rate">
              {{#with getRating}}
              <h3>Calificación: {{this.mean}}</h3>
              {{> starsRating id="displayStars" rating="{{this.mean}}" size="lg" mutable=false}}
              {{/with}}
            </div>
          {{else}}
        <button id="btn-challenge" class="btn btn-success" data-username="{{username}}">
          Retar
        </button>
        <div id="rate">
          {{#with getRating}}
          <h3>Calificación: {{this.mean}}</h3>
          {{> starsRating id="stars" rating="{{this.mean}}" size="lg" mutable=true}}
          {{/with}}
        </div>
          {{/if}}
        {{/if}}
        <br>

      </div>
      <div id="right" class="col-md-8">
        <h1>{{profile.name}}</h1><br>
        <h4>{{profile.sportsString}}</h4>
        <hr>
        <h4>Equipos:</h4><br>
        <h4>Partidas recientes:</h4><br>
      </div>
    </div>
  </div>
</template>

<template name="not-found">
  <h1>User not found :(</h1>
</template>
